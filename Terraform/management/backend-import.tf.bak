resource "aws_security_group" "prod" {
  name = "production-sg"
}

# local backend
terraform {
  backend "local" {
    path = "prod.tfstate"
  }
}

# s3 backend
terraform {
  backend "s3" {
    region = "ap-southeast-2"
    bucket = "your-bucket-name"
    key    = "prod.tfstate"

    # only one operation (plan/apply) can modify the remote state at a time 
    # and avoid conflicting changes
    use_lockfile = true
  }
}

# import real-world service to .tf
provider "aws" {
  region     = "ap-southeast-2"
}

import {
  to = aws_security_group.mysg
  id = "sg-07f13feb262ba8b6f"
}

# terraform plan -generate-config-out=mysg.tf
#terraform apply -auto-approve